<!DOCTYPE html>
<html lang="">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/forall.css">
    <link rel="stylesheet" href="css/order_m.css">
    <link rel="stylesheet" href="css/css/all.min.css">
    <!-- <link rel="stylesheet" href="css/jquery-ui.min.css" /> -->
    <link rel="stylesheet" href="css/daterangepicker.css">
    
    <script src="js/jquery.min.js"></script>
    <script src="js/sign-in.js"></script>
    <script src="js/showData.js"></script>
    <script>
    </script>
    <title>預約管理</title>
</head>
<body>
    <!-- top nav -->
    <div class="top full-width">
        <div class="logo">
            <a><img src="images/logo (1).png" alt=""></a>
        </div>
        <h1 class="title">預約座位系統</h1>
        <ul>
            <li id="date"></li>
            <!-- <li class="catalog"><a href="#"><i class="far fa-list-alt"></i>回目錄</a></li> -->
            <li class="manager"><a href="start.html" id="catelog"><i class="far fa-list-alt"></i>回目錄</a><a href="#" id="user"><i class="fas fa-user"></i>管理者</a></li>
            <!-- <li class="enter"><a href="#"><i class="fas fa-sign-out-alt"></i>登出</a></li> -->
        </ul>
    </div>
    <div class="user clearfix">
        <ul>
            <li><a>資料設定</a></li>
            <li class="logout"><a><i class="fas fa-sign-out-alt"></i>登出</a></li>
        </ul>
    </div>
    <div id="container" class="clearfix">
        <!-- side nav -->
        <div class="nav_side">
            <!-- <div class="logo"></div> -->
            <h2><i class="fas fa-home"></i>本館現況</h2>
            <ul class="main">
                <li><a href="index.html">學生到班狀況</a></li>
                <li><a href="forstudent.html" target="blank">學生上課座位查詢</a></li>
                <li><a href="statistic.html">預約到班統計</a></li>
            </ul>
            <h2><i class="far fa-calendar-check"></i>預約管理</h2>
            <ul class="order_m">
                <li><a href="order_m.html">新增預約</a></li>
                <li><a href="change-order.html">修改/刪除預約</a></li>
            </ul>
            <h2><i class="fas fa-chair"></i>座位管理</h2>
            <ul class="seat_m">
                <li><a href="seat.html">現狀列表</a></li>
            </ul>
            <h2><i class="fas fa-clock"></i>場次管理</h2>
            <ul class="place_m">
                <li><a href="place_m.html">場次查詢</a></li>
                <li><a href="place_c.html">停場設定</a></li>
            </ul>
            <h2><i class="fas fa-book-reader"></i>學生管理</h2>
            <ul class="student_m">
                <li><a href="search-order.html">預約記錄</a></li>
                <li><a href="time-used.html">學習時數查詢</a></li>
                <li><a href="violation.html">違規紀錄</a></li>
            </ul>
            <h2><i class="fas fa-cog"></i>權限管理</h2>
            <ul class="permission">
                <li><a href="permission.html">群組管理</a></li>
                <li><a href="personal.html">個人權限設定</a></li>
                <li><a href="system-m.html">系統管理</a></li>
            </ul>
        </div>
        <div id="mainContent">
            <h2 class="sub-title">預約管理 \ 新增預約</h2>
            <form action="">
                <div class="student-num">
                    <p>請輸入預約學員編號/身分證字號</p>
                    <input type="text" id="num" maxlength="10" autocomplete="off" required>
                </div>
                <!--  -->
                <div class="condition">
                    <table>
                        <thead>
                            <th style="width:40%"></th>
                            <th style="width:60%"></th>
                        </thead>
                        <tr>
                            <td class="item">上課地點</td>
                            <td>
                                <select name="location" id="location">
                                    <option value="">請選擇上課地點</option>
                                    <option value="0">總公司</option>
                                    <option value="1">花蓮數位學堂</option>
                                    <option value="2">宜蘭數位學堂</option>
                                    <option value="3">台北大碩</option>
                                    <option value="4">東華數位學堂</option>
                                    <option value="5">基隆數位學堂</option>
                                    <option value="6">新莊數位學堂</option>
                                    <option value="7">三峽數位學堂</option>
                                    <option value="8">景美數位學堂</option>
                                    <option value="9">淡水數位學堂</option>
                                    <option value="10">台北數位學堂</option>
                                    <option value="11">中壢數位學堂</option>
                                    <option value="12">桃園數位學堂</option>
                                    <option value="13">林口數位學堂</option>
                                    <option value="14">中央數位學堂</option>
                                    <option value="15">苗栗數位學堂</option>
                                    <option value="16">新竹數位學堂</option>
                                    <option value="17">逢甲數位學堂</option>
                                    <option value="18">彰化數位學堂</option>
                                    <option value="19">東海數位學堂</option>
                                    <option value="20">台中數位學堂</option>
                                    <option value="21">嘉義數位學堂</option>
                                    <option value="22">斗六數位學堂</option>
                                    <option value="23">虎尾數位學堂</option>
                                    <option value="24">民雄數位學堂</option>
                                    <option value="25">台南數位學堂</option>
                                    <option value="26">屏東數位學堂</option>
                                    <option value="27">楠梓數位學堂</option>
                                    <option value="28">高大數位學堂</option>
                                    <option value="29">高雄數位學堂</option>
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <td class="item">上課日期</td>
                            <td><input type="text" id="date-single" placeholder="請選擇預約日期" autocomplete="off"></td> <!-- single select-->
                        </tr>
                        <tr>
                            <td class="item">課程名稱</td>
                            <td>
                                <select name="classname" id="classname">
                                    <option value="">請選擇預約課程</option>
                                    <option value="0">作業研究</option>
                                    <option value="1">行政學</option>
                                    <option value="2"></option>
                                    <option value="3"></option>
                                    <option value="4"></option>
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <td class="item">上課座位</td>
                            <td>
                                <select name="seat" id="seat">
                                    <option value="">請選擇座位編號</option>
                                    <option value="A01">A01</option>
                                    <option value="A02">A02</option>
                                    <option value="A03">A03</option>
                                    <option value="A04">A04</option>
                                    <option value="A05">A05</option>
                                    <option value="A06">A06</option>
                                    <option value="A07">A07</option>
                                    <option value="A08">A08</option>
                                    <option value="A09">A09</option>
                                    <option value="A09">A09</option>
                                    <option value="A10">A10</option>
                                </select>
                                <!-- <span class="yes">已預約</span>
                                <span class="no">未預約</span> -->
                                <!-- <a class="search_s">查詢座位狀態</a> -->
                                <span id="result"></span>
                            </td>
                        </tr>
                        <tr>
                            <td class="item">上課場次</td>
                            <td>
                                <select name="time" id="time">
                                    <option value="">請選擇預約場次</option>
                                    <option value="0">8:30-11:50</option>
                                    <option value="1">12:00-15:20</option>
                                    <option value="2">15:40-18:30</option>
                                    <option value="3">19:00-22:00</option>
                                </select>
                            </td>
                        </tr>
                    </table>
                    <div class="ctr_b">
                        <button type="submit" class="check-btn">送出</button><button type="reset">重設</a>
                    </div>
                </div>
            </form>
        <!-- <div class="crossLine"></div> -->
            <div class="student_info clearfix">
                <div class="student-data clearfix">
                    <p class="title">學員資料</p>
                    <ul>
                        <li class="item">學員編號/身分證字號 :</li>
                        <li class="">TW001234567</li>
                        <li class="item">學員姓名 :</li>
                        <li class="">蛙拉拉</li>
                    </ul>
                </div>
                <!-- <div class="title">預約學員資料</div> -->
                <form action="javascript:;">
                    <table class="result">
                        <thead>
                            <th style="width:40%;"></th>
                            <th style="width:60%;"></th>
                        </thead>
                        <!-- <tbody>
                            <tr>
                                <td class="item">上課地點</td>
                                <td>台北數位學堂</td>
                            </tr>
                            <tr>
                                <td class="item">上課日期</td>
                                <td>2018/11/22</td>
                            </tr>
                            <tr>
                                <td class="item">上課名稱</td>
                                <td>行政學</td>
                            </tr>
                            <tr>
                                <td class="item">上課座位</td>
                                <td>A22</td>
                            </tr>
                            <tr>
                                <td class="item">上課時段</td>
                                <td>13:00-15:50</td>
                            </tr>
                        </tbody> -->
                    </table>
                </form>
            </div>
        </div>
    </div>

    <script src="js/whatDayisToday.js"></script>
    <script src="js/daterangepicker-master/moment.min.js"></script>
    <script src="js/daterangepicker-master/daterangepicker.js"></script>
    <script src="js/date-single.js"></script>
    <script>
        $.ajax({
                url:"test.json",
                success:function(data){
                    $("#seat").change(function(){
                        $(".status").remove();
                        let seat = $("#seat").val();
                        // console.log("座位 :"+seat);
                        // console.log(data.length);
                        let i;
                        let seatnum = data.seatnum;
                        for(i = 0; i < data.length; i++){
                            if(seat == data[i].seatnum){
                                let status = data[i].status;
                                let content = `<span class="status">${status}<span><br>`;
                                $("#result").append(content);
                            };
                        }
                    });
                    $("form").submit(function(){
                        let v = $("#location option:selected").val();
                        let v1 = $("#date-single").val();
                        let v2 = $("#classname option:selected").val();
                        let v3 = $("#seat option:selected").val();
                        let v4 = $("#time option:selected").val();
                        if(v == ""||v1 == ""||v2 == ""||v3 == ""||v4 == ""){ //排除空值
                            alert("誰是空值!");
                            console.log(v);
                            console.log(v1);
                            console.log(v2);
                            console.log(v3);
                            console.log(v4);
                            return false;
                        }else { //都有值
                            $(".student_info").show();
                            let l = $("#location option:selected").text();
                            console.log(l);
                            let d = $("#date-single").val();
                            console.log(d);
                            let c = $("#classname option:selected").text();
                            console.log(c);
                            let s = $("#seat option:selected").text();
                            console.log(s);
                            let t = $("#time option:selected").text();
                            console.log(t);
                            let r = //字串樣板
                                `
                                <tr>
                                    <td class="item">上課地點</td>
                                    <td>${l}</td>
                                </tr>    
                                <tr>
                                    <td class="item">上課日期</td>
                                    <td>${d}</td>
                                </tr>    
                                <tr>
                                    <td class="item">課程名稱</td>
                                    <td>${c}</td>
                                </tr>    
                                <tr>
                                    <td class="item">上課座位</td>
                                    <td>${s}</td>
                                </tr>    
                                <tr>
                                    <td class="item">上課場次</td>
                                    <td>${t}</td>
                                </tr>
                                `;
                                
                            $(".student-num input").val("");
                            $(".condition table input").val("");
                            $(".condition table select").val("");
                            $('#result').empty();
                            $(".result").empty();
                            $(".result").append(r);
                            return false;
                        }
                    });
                },
                error:function(){
                    console.log("error");
                },
            });
    </script>

</body>
</html>