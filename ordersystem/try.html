<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>test_</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/css/all.min.css">
    <link rel="stylesheet" href="css/jquery-ui.min.css">
    <!-- <link rel="stylesheet" href="css/jquery-ui.theme.min.css"> -->
    <script src="js/jquery.min.js"></script>
    <script src="js/toggle-addafter.js"></script>
    <script src="js/jquery-ui.min.js"></script>
    
    <style>
        .container{
          width: 500px;
          margin: auto;
        }
        .dateranger{
          width:200px;
          padding-bottom: 30px;
        }
        .container table {
            width: 80%;
            margin-top: 30px;
        }
        .container table tr {
            border: 1px solid #000;
        }
        .container table td{
            margin-top: 30px;
            width: 30%;
            border: 1px solid #000;
            /* text-align: center; */
        }

    </style>
    <script>
        // $(document).ready(function(){
            // $('.btn').click(function(){
            //     alert('出現吧!');
            //     $("#table_1").show();
            //     return false;
            // })
        //     let start = moment().subtract(30,'days');
        //     let end = moment();
        //     function cb(start, end) {
        //         $('input[name="dates"]').html(start.format('yyyy-mm-dd') + ' - ' + end.format('yyyy-mm-dd'));
        //     };
        //    $('input[name="dates"]').daterangepicker({
        //         startDate: start,                
        //         locale: {
        //             format:"YYYY-MM-DD",
        //             },
        //         ranges: {
        //         'Today': [moment(), moment()],
        //         'Yesterday': [moment().subtract(1, 'days'), moment().subtract(1, 'days')],
        //         'Last 30 Days': [moment().subtract(30, 'days'), moment()],
        //         'Last Month': [moment().subtract(1, 'month').startOf('month'), moment().subtract(1, 'month').endOf('month')],
        //         'Last month to Next month': [moment().subtract(30, 'days'), moment().subtract(-30, 'days')]
        //         }
        //     }, cb);
        //     cb(start, end);

            $( function() {
                $( "#datepicker" ).datepicker({ minDate: 0, maxDate: "+7D" });
            } );
        // })
    </script>
</head>
<body>
    <div class="container">
        <input type="text" name="" id="datepicker"/>
    
        <table>
            <thead>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
            </thead>
            <tr>
                <td>123456789</td>
                <td colspan="2">123456789</td>
                <td><i class="far fa-edit"></i></td>
            </tr>
        </table>
    </div>
    <script>
        $(document).ready(function(){
        let status = false;
        let list = `<tr class="edit">
        <td>
            <div class="edit-hide">
                <ul class="last-edit">
                    <li class="title">最後更新狀態</li>
                    <li>經手人:嚕啦啦</li>
                    <li>日期:2018-11-27&nbsp;17:10</li>
                    <li>原因:螢幕壞掉</li>
                    <li>狀態:故障</li>
                </ul>
                <ul class="new-edit">
                    <li class="title">本次更新狀態</li>
                    <li>經手人:吧哪哪</li>
                    <li>日期: <input type="datetime-local" name="" id="" value="2018-11-27Wed17:14"></li>
                    <li>原因: <input type="text"></li>
                    <li>狀態: 
                        <select name="" id="">
                            <option value="">正常</option>
                            <option value="">保留</option>
                            <option value="">故障</option>
                            <option value="">封閉</option>
                        </select>
                    </li>
                </ul>                                
            </div>
        </td>
        <td><button>確定</button></td></tr>`
        // $(".edit").hide();
        $(".fa-edit").click(function(){
            let tr = $(this).parent().parent();
            
            if (status == false){
                tr.after(list);
                status = true;
                console.log($("tr.edit").height());
                return false;
            } else if (status == true){
                $("tr.edit").remove();
                status = false;
                console.log(2222222222);
                // console.log(p);
                // console.log(p.next());
            }
        });
    });
    </script>
</body>
</html>